<!-- Resources/Styles/ApplicationStyles.xaml -->
<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
                    xmlns:sys="clr-namespace:System;assembly=mscorlib">

    <!-- Converters -->
    <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />

    <!-- Status to Brush Converter (you'll need to implement this) -->
    <SolidColorBrush x:Key="StatusConnectedBrush" Color="#4CAF50" />
    <SolidColorBrush x:Key="StatusDisconnectedBrush" Color="#F44336" />

    <!-- Card Styles -->
    <Style x:Key="ApplicationCard" TargetType="materialDesign:Card">
        <Setter Property="Padding" Value="16" />
        <Setter Property="Margin" Value="8" />
        <Setter Property="materialDesign:ElevationAssist.Elevation" Value="Dp2" />
    </Style>

    <Style x:Key="DashboardCard" TargetType="materialDesign:Card" BasedOn="{StaticResource ApplicationCard}">
        <Setter Property="Height" Value="120" />
        <Setter Property="MinWidth" Value="200" />
    </Style>

    <!-- Button Styles -->
    <Style x:Key="PrimaryButton" TargetType="Button" BasedOn="{StaticResource MaterialDesignRaisedButton}">
        <Setter Property="Background" Value="{StaticResource PrimaryBrush}" />
        <Setter Property="BorderBrush" Value="{StaticResource PrimaryBrush}" />
        <Setter Property="Foreground" Value="White" />
        <Setter Property="Height" Value="36" />
        <Setter Property="Padding" Value="16,0" />
        <Setter Property="FontSize" Value="14" />
        <Setter Property="FontWeight" Value="Medium" />
    </Style>

    <Style x:Key="SecondaryButton" TargetType="Button" BasedOn="{StaticResource MaterialDesignOutlinedButton}">
        <Setter Property="BorderBrush" Value="{StaticResource PrimaryBrush}" />
        <Setter Property="Foreground" Value="{StaticResource PrimaryBrush}" />
        <Setter Property="Height" Value="36" />
        <Setter Property="Padding" Value="16,0" />
        <Setter Property="FontSize" Value="14" />
    </Style>

    <Style x:Key="DangerButton" TargetType="Button" BasedOn="{StaticResource MaterialDesignRaisedButton}">
        <Setter Property="Background" Value="{StaticResource DangerBrush}" />
        <Setter Property="BorderBrush" Value="{StaticResource DangerBrush}" />
        <Setter Property="Foreground" Value="White" />
        <Setter Property="Height" Value="36" />
        <Setter Property="Padding" Value="16,0" />
        <Setter Property="FontSize" Value="14" />
    </Style>

    <Style x:Key="IconButton" TargetType="Button" BasedOn="{StaticResource MaterialDesignIconButton}">
        <Setter Property="Width" Value="40" />
        <Setter Property="Height" Value="40" />
        <Setter Property="Padding" Value="8" />
    </Style>

    <!-- TextBox Styles -->
    <Style x:Key="ApplicationTextBox" TargetType="TextBox" BasedOn="{StaticResource MaterialDesignFloatingHintTextBox}">
        <Setter Property="Margin" Value="0,8" />
        <Setter Property="FontSize" Value="14" />
        <Setter Property="materialDesign:TextFieldAssist.UnderlineBrush" Value="{StaticResource PrimaryBrush}" />
    </Style>

    <Style x:Key="SearchTextBox" TargetType="TextBox" BasedOn="{StaticResource MaterialDesignTextBox}">
        <Setter Property="materialDesign:HintAssist.Hint" Value="Search..." />
        <Setter Property="materialDesign:TextFieldAssist.HasLeadingIcon" Value="True" />
        <Setter Property="materialDesign:TextFieldAssist.LeadingIcon" Value="Search" />
        <Setter Property="FontSize" Value="14" />
        <Setter Property="Margin" Value="8" />
    </Style>

    <!-- ComboBox Styles -->
    <Style x:Key="ApplicationComboBox" TargetType="ComboBox" BasedOn="{StaticResource MaterialDesignComboBox}">
        <Setter Property="Margin" Value="0,8" />
        <Setter Property="FontSize" Value="14" />
        <Setter Property="materialDesign:ColorZoneAssist.Mode" Value="Standard" />
    </Style>

    <!-- DatePicker Styles -->
    <Style x:Key="ApplicationDatePicker" TargetType="DatePicker" BasedOn="{StaticResource MaterialDesignDatePicker}">
        <Setter Property="Margin" Value="0,8" />
        <Setter Property="FontSize" Value="14" />
    </Style>

    <!-- DataGrid Styles -->
    <Style x:Key="ApplicationDataGrid" TargetType="DataGrid" BasedOn="{StaticResource MaterialDesignDataGrid}">
        <Setter Property="AutoGenerateColumns" Value="False" />
        <Setter Property="CanUserAddRows" Value="False" />
        <Setter Property="CanUserDeleteRows" Value="False" />
        <Setter Property="IsReadOnly" Value="True" />
        <Setter Property="SelectionMode" Value="Single" />
        <Setter Property="GridLinesVisibility" Value="Horizontal" />
        <Setter Property="HeadersVisibility" Value="Column" />
        <Setter Property="materialDesign:DataGridAssist.CellPadding" Value="13 8 8 8" />
        <Setter Property="materialDesign:DataGridAssist.ColumnHeaderPadding" Value="8" />
    </Style>

    <!-- Label Styles -->
    <Style x:Key="SectionHeader" TargetType="TextBlock">
        <Setter Property="FontSize" Value="20" />
        <Setter Property="FontWeight" Value="Medium" />
        <Setter Property="Foreground" Value="{DynamicResource MaterialDesignBody}" />
        <Setter Property="Margin" Value="0,16,0,8" />
    </Style>

    <Style x:Key="SubSectionHeader" TargetType="TextBlock">
        <Setter Property="FontSize" Value="16" />
        <Setter Property="FontWeight" Value="Medium" />
        <Setter Property="Foreground" Value="{DynamicResource MaterialDesignBody}" />
        <Setter Property="Margin" Value="0,12,0,4" />
    </Style>

    <Style x:Key="FieldLabel" TargetType="TextBlock">
        <Setter Property="FontSize" Value="14" />
        <Setter Property="FontWeight" Value="Normal" />
        <Setter Property="Foreground" Value="{DynamicResource MaterialDesignBodyLight}" />
        <Setter Property="Margin" Value="0,4,0,2" />
    </Style>

    <Style x:Key="ValueLabel" TargetType="TextBlock">
        <Setter Property="FontSize" Value="14" />
        <Setter Property="FontWeight" Value="Normal" />
        <Setter Property="Foreground" Value="{DynamicResource MaterialDesignBody}" />
        <Setter Property="Margin" Value="0,2,0,4" />
    </Style>

    <Style x:Key="StatusLabel" TargetType="TextBlock">
        <Setter Property="FontSize" Value="12" />
        <Setter Property="FontWeight" Value="Medium" />
        <Setter Property="Padding" Value="8,4" />
        <Setter Property="TextAlignment" Value="Center" />
        <Setter Property="Background" Value="{StaticResource InfoBrush}" />
        <Setter Property="Foreground" Value="White" />
    </Style>

    <!-- Panel Styles -->
    <Style x:Key="FormPanel" TargetType="StackPanel">
        <Setter Property="Margin" Value="16" />
        <Setter Property="Orientation" Value="Vertical" />
    </Style>

    <Style x:Key="ButtonPanel" TargetType="StackPanel">
        <Setter Property="Orientation" Value="Horizontal" />
        <Setter Property="HorizontalAlignment" Value="Right" />
        <Setter Property="Margin" Value="16,24,16,16" />
    </Style>

    <Style x:Key="ToolbarPanel" TargetType="StackPanel">
        <Setter Property="Orientation" Value="Horizontal" />
        <Setter Property="Margin" Value="16,16,16,8" />
        <Setter Property="HorizontalAlignment" Value="Right" />
    </Style>

    <!-- TabControl Styles -->
    <Style x:Key="ApplicationTabControl" TargetType="TabControl" BasedOn="{StaticResource MaterialDesignTabControl}">
        <Setter Property="materialDesign:ColorZoneAssist.Mode" Value="PrimaryMid" />
        <Setter Property="Background" Value="{DynamicResource MaterialDesignPaper}" />
    </Style>

    <!-- Expander Styles -->
    <Style x:Key="ApplicationExpander" TargetType="Expander" BasedOn="{StaticResource MaterialDesignExpander}">
        <Setter Property="Margin" Value="0,8" />
        <Setter Property="materialDesign:ExpanderAssist.HorizontalHeaderPadding" Value="24,16" />
    </Style>

    <!-- Progress Bar Styles -->
    <Style x:Key="ApplicationProgressBar" TargetType="ProgressBar" BasedOn="{StaticResource MaterialDesignLinearProgressBar}">
        <Setter Property="Height" Value="4" />
        <Setter Property="Foreground" Value="{StaticResource PrimaryBrush}" />
    </Style>

    <!-- Chip Styles -->
    <Style x:Key="StatusChip" TargetType="materialDesign:Chip">
        <Setter Property="Margin" Value="4,2" />
        <Setter Property="Padding" Value="8,4" />
        <Setter Property="FontSize" Value="12" />
        <Setter Property="FontWeight" Value="Medium" />
    </Style>

    <!-- Menu Item Styles -->
    <Style x:Key="NavigationMenuItem" TargetType="MenuItem" BasedOn="{StaticResource MaterialDesignMenuItem}">
        <Setter Property="Height" Value="48" />
        <Setter Property="Padding" Value="16,8" />
        <Setter Property="FontSize" Value="14" />
    </Style>

    <!-- List Styles -->
    <Style x:Key="ApplicationListBox" TargetType="ListBox" BasedOn="{StaticResource MaterialDesignListBox}">
        <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled" />
        <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto" />
    </Style>

    <!-- Validation Styles -->
    <Style x:Key="ValidationTextBox" TargetType="TextBox" BasedOn="{StaticResource ApplicationTextBox}">
        <Style.Triggers>
            <Trigger Property="Validation.HasError" Value="True">
                <Setter Property="materialDesign:TextFieldAssist.UnderlineBrush" Value="{StaticResource DangerBrush}" />
                <Setter Property="BorderBrush" Value="{StaticResource DangerBrush}" />
            </Trigger>
        </Style.Triggers>
    </Style>

    <!-- Loading Overlay Style -->
    <Style x:Key="LoadingOverlay" TargetType="Grid">
        <Setter Property="Background" Value="#80FFFFFF" />
        <Setter Property="Visibility" Value="Collapsed" />
        <Style.Triggers>
            <DataTrigger Binding="{Binding IsBusy}" Value="True">
                <Setter Property="Visibility" Value="Visible" />
            </DataTrigger>
        </Style.Triggers>
    </Style>

    <!-- Work Order Status Colors -->
    <Style x:Key="UnscheduledStatus" TargetType="Border">
        <Setter Property="Background" Value="#FF6B6B" />
        <Setter Property="CornerRadius" Value="12" />
        <Setter Property="Padding" Value="8,4" />
    </Style>

    <Style x:Key="ScheduledStatus" TargetType="Border">
        <Setter Property="Background" Value="#4ECDC4" />
        <Setter Property="CornerRadius" Value="12" />
        <Setter Property="Padding" Value="8,4" />
    </Style>

    <Style x:Key="InProgressStatus" TargetType="Border">
        <Setter Property="Background" Value="#45B7D1" />
        <Setter Property="CornerRadius" Value="12" />
        <Setter Property="Padding" Value="8,4" />
    </Style>

    <Style x:Key="PendingStatus" TargetType="Border">
        <Setter Property="Background" Value="#FFA726" />
        <Setter Property="CornerRadius" Value="12" />
        <Setter Property="Padding" Value="8,4" />
    </Style>

    <Style x:Key="CanceledStatus" TargetType="Border">
        <Setter Property="Background" Value="#78909C" />
        <Setter Property="CornerRadius" Value="12" />
        <Setter Property="Padding" Value="8,4" />
    </Style>

    <Style x:Key="CompletedStatus" TargetType="Border">
        <Setter Property="Background" Value="#66BB6A" />
        <Setter Property="CornerRadius" Value="12" />
        <Setter Property="Padding" Value="8,4" />
    </Style>

    <!-- Dashboard Metric Styles -->
    <Style x:Key="MetricCard" TargetType="materialDesign:Card" BasedOn="{StaticResource DashboardCard}">
        <Setter Property="Cursor" Value="Hand" />
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="materialDesign:ElevationAssist.Elevation" Value="Dp3" />
            </Trigger>
        </Style.Triggers>
    </Style>

    <Style x:Key="MetricValue" TargetType="TextBlock">
        <Setter Property="FontSize" Value="32" />
        <Setter Property="FontWeight" Value="Bold" />
        <Setter Property="HorizontalAlignment" Value="Center" />
        <Setter Property="Foreground" Value="{StaticResource PrimaryBrush}" />
    </Style>

    <Style x:Key="MetricLabel" TargetType="TextBlock">
        <Setter Property="FontSize" Value="14" />
        <Setter Property="FontWeight" Value="Medium" />
        <Setter Property="HorizontalAlignment" Value="Center" />
        <Setter Property="Foreground" Value="{DynamicResource MaterialDesignBodyLight}" />
        <Setter Property="TextWrapping" Value="Wrap" />
    </Style>

    <!-- Customer Type Indicators -->
    <Style x:Key="ResidentialIndicator" TargetType="Ellipse">
        <Setter Property="Fill" Value="#2196F3" />
        <Setter Property="Width" Value="12" />
        <Setter Property="Height" Value="12" />
    </Style>

    <Style x:Key="CommercialIndicator" TargetType="Ellipse">
        <Setter Property="Fill" Value="#FF9800" />
        <Setter Property="Width" Value="12" />
        <Setter Property="Height" Value="12" />
    </Style>

    <Style x:Key="GovernmentIndicator" TargetType="Ellipse">
        <Setter Property="Fill" Value="#4CAF50" />
        <Setter Property="Width" Value="12" />
        <Setter Property="Height" Value="12" />
    </Style>

    <Style x:Key="EducationIndicator" TargetType="Ellipse">
        <Setter Property="Fill" Value="#9C27B0" />
        <Setter Property="Width" Value="12" />
        <Setter Property="Height" Value="12" />
    </Style>

    <!-- Animation Styles -->
    <Style x:Key="FadeInAnimation" TargetType="FrameworkElement">
        <Setter Property="Opacity" Value="0" />
        <Style.Triggers>
            <EventTrigger RoutedEvent="Loaded">
                <BeginStoryboard>
                    <Storyboard>
                        <DoubleAnimation Storyboard.TargetProperty="Opacity"
                                       From="0" To="1" Duration="0:0:0.3" />
                    </Storyboard>
                </BeginStoryboard>
            </EventTrigger>
        </Style.Triggers>
    </Style>

    <!-- Responsive Grid Styles -->
    <Style x:Key="ResponsiveGrid" TargetType="Grid">
        <Setter Property="Margin" Value="16" />
    </Style>

    <!-- Print Styles -->
    <Style x:Key="PrintDocument" TargetType="FlowDocument">
        <Setter Property="FontFamily" Value="Arial" />
        <Setter Property="FontSize" Value="12" />
        <Setter Property="PagePadding" Value="96" />
        <Setter Property="ColumnWidth" Value="Infinity" />
        <Setter Property="Background" Value="White" />
    </Style>

    <!-- Error Template -->
    <ControlTemplate x:Key="ValidationErrorTemplate">
        <DockPanel>
            <Border DockPanel.Dock="Top" BorderBrush="{StaticResource DangerBrush}" BorderThickness="1" CornerRadius="2">
                <AdornedElementPlaceholder />
            </Border>
            <TextBlock DockPanel.Dock="Bottom" 
                       Text="{Binding [0].ErrorContent}" 
                       Foreground="{StaticResource DangerBrush}"
                       FontSize="11"
                       Margin="0,2,0,0" />
        </DockPanel>
    </ControlTemplate>

    <!-- Global Validation Error Style -->
    <Style TargetType="TextBox">
        <Setter Property="Validation.ErrorTemplate" Value="{StaticResource ValidationErrorTemplate}" />
    </Style>

    <Style TargetType="ComboBox">
        <Setter Property="Validation.ErrorTemplate" Value="{StaticResource ValidationErrorTemplate}" />
    </Style>

    <Style TargetType="DatePicker">
        <Setter Property="Validation.ErrorTemplate" Value="{StaticResource ValidationErrorTemplate}" />
    </Style>

    <!-- Additional Utility Styles -->
    <Style x:Key="EmptyStateMessage" TargetType="TextBlock">
        <Setter Property="FontSize" Value="16" />
        <Setter Property="Foreground" Value="{DynamicResource MaterialDesignBodyLight}" />
        <Setter Property="HorizontalAlignment" Value="Center" />
        <Setter Property="VerticalAlignment" Value="Center" />
        <Setter Property="TextAlignment" Value="Center" />
        <Setter Property="Margin" Value="32" />
    </Style>

    <Style x:Key="SummaryCard" TargetType="materialDesign:Card" BasedOn="{StaticResource ApplicationCard}">
        <Setter Property="Background" Value="{DynamicResource MaterialDesignCardBackground}" />
        <Setter Property="materialDesign:ElevationAssist.Elevation" Value="Dp1" />
    </Style>

    <Style x:Key="ActionButton" TargetType="Button" BasedOn="{StaticResource MaterialDesignFloatingActionMiniButton}">
        <Setter Property="Margin" Value="4" />
        <Setter Property="ToolTipService.InitialShowDelay" Value="500" />
    </Style>

    <!-- Toolbar Separator -->
    <Style x:Key="ToolbarSeparator" TargetType="Separator" BasedOn="{StaticResource {x:Static ToolBar.SeparatorStyleKey}}">
        <Setter Property="Margin" Value="8,4" />
    </Style>

    <!-- Data Templates for Status Indicators -->
    <DataTemplate x:Key="StatusIndicatorTemplate">
        <Border CornerRadius="10" Padding="6,2" Background="{Binding StatusColor}">
            <TextBlock Text="{Binding StatusText}" Foreground="White" FontSize="10" FontWeight="Bold" />
        </Border>
    </DataTemplate>

    <!-- Priority Indicators -->
    <Style x:Key="HighPriorityIndicator" TargetType="materialDesign:PackIcon">
        <Setter Property="Kind" Value="ArrowUp" />
        <Setter Property="Foreground" Value="{StaticResource DangerBrush}" />
        <Setter Property="Width" Value="16" />
        <Setter Property="Height" Value="16" />
    </Style>

    <Style x:Key="MediumPriorityIndicator" TargetType="materialDesign:PackIcon">
        <Setter Property="Kind" Value="Minus" />
        <Setter Property="Foreground" Value="{StaticResource WarningBrush}" />
        <Setter Property="Width" Value="16" />
        <Setter Property="Height" Value="16" />
    </Style>

    <Style x:Key="LowPriorityIndicator" TargetType="materialDesign:PackIcon">
        <Setter Property="Kind" Value="ArrowDown" />
        <Setter Property="Foreground" Value="{StaticResource SuccessBrush}" />
        <Setter Property="Width" Value="16" />
        <Setter Property="Height" Value="16" />
    </Style>

</ResourceDictionary>